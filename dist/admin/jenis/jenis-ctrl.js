function JenisInputCtrl(e,t,i){function n(e){var t=new FileReader;t.onload=function(e){var t=new Image;return t.onload=function(){width=t.width,height=t.height,width>height?width>MAX_SIZE&&(height*=MAX_SIZE/width,width=MAX_SIZE):height>MAX_SIZE&&(width*=MAX_SIZE/height,height=MAX_SIZE),r.canvas.width=width,r.canvas.height=height,r.drawImage(t,0,0,width,height)},t.src=e.target.result,images=t,t},t.readAsDataURL(e.target.files[0])}function a(t){var n=document.querySelector("canvas"),a=n.toDataURL("image/png");t.imgURL=a,e.postDataJenis(t).success(h).error(function(e,t){400===t&&i.Gagal()})}function h(e){i.Sukses(),t.go("admin.jeniskejahatan-view")}MAX_SIZE=200;var d=this,s=document.getElementById("canvas"),r=s.getContext("2d"),o=document.getElementById("gambar");o.addEventListener("change",n),this.tambah=a,d.test="Hello"}function JenisViewCtrl(e,t,i){function n(t,n,a){function h(){e.deleteJenis(t).then(function(e){200===e.status&&d.data.splice(a,1)})}i.Hapus(h,n)}function a(e){t.go("admin.jeniskejahatan-update",{id:e})}function h(e){document.querySelector("loading").style.visibility="hidden",d.data=e.data.response}var d=this;d.dataJenis=e.getAllData().then(h),d["delete"]=n,d.update=a}function JenisUpdateCtrl(e,t,i){function n(e){var t=new FileReader;t.onload=function(e){var t=new Image;return t.onload=function(){width=t.width,height=t.height,width>height?width>MAX_SIZE&&(height*=MAX_SIZE/width,width=MAX_SIZE):height>MAX_SIZE&&(width*=MAX_SIZE/height,height=MAX_SIZE),o.canvas.width=width,o.canvas.height=height,o.drawImage(t,0,0,width,height)},t.src=e.target.result,images=t,t},t.readAsDataURL(e.target.files[0])}function a(t){var i=document.querySelector("canvas"),n=i.toDataURL("image/png");t.imgURL=n,e.updateJenis(t).then(h)}function h(e){i.Update(s),t.go("admin.jeniskejahatan-view")}var d=this,s=t.params.id;e.getData(s).then(function(e){d.jenis=e.data.response.jenis,d.imgURL=e.data.response.imgURL,d.id=e.data.response.id}),MAX_SIZE=200;var d=this,r=document.getElementById("canvas"),o=r.getContext("2d"),c=document.getElementById("gambar");c.addEventListener("change",n),this.tambah=a}angular.module("CrimeZone").controller("JenisInputCtrl",JenisInputCtrl).controller("JenisUpdateCtrl",JenisUpdateCtrl).controller("JenisViewCtrl",JenisViewCtrl),JenisInputCtrl.$inject=["JenisService","$state","ActionService"],JenisViewCtrl.$inject=["JenisService","$state","ActionService"],JenisUpdateCtrl.$inject=["JenisService","$state","ActionService"];