function JenisInputCtrl(e,t,n){function i(e){var t=new FileReader;t.onload=function(e){var t=new Image;return t.onload=function(){width=t.width,height=t.height,width>height?width>MAX_SIZE&&(height*=MAX_SIZE/width,width=MAX_SIZE):height>MAX_SIZE&&(width*=MAX_SIZE/height,height=MAX_SIZE),d.canvas.width=width,d.canvas.height=height,d.drawImage(t,0,0,width,height)},t.src=e.target.result,images=t,t},t.readAsDataURL(e.target.files[0])}function a(t){var i=document.querySelector("canvas"),a=i.toDataURL("image/png");t.imgURL=a,console.log(t),e.postDataJenis(t).success(s).error(function(e,t){400===t&&n.Gagal()})}function s(e){n.Sukses(),console.log(e),t.go("petugas.jeniskejahatan-view")}MAX_SIZE=200;var o=this,h=document.getElementById("canvas"),d=h.getContext("2d"),r=document.getElementById("gambar");r.addEventListener("change",i),this.tambah=a,o.test="Hello"}function JenisViewCtrl(e,t,n){function i(t,i,a){function s(){e.deleteJenis(t).then(function(e){200===e.status&&o.data.splice(a,1),console.log(e)})}n.Hapus(s,i)}function a(e){t.go("petugas.jeniskejahatan-update",{id:e})}function s(e){document.querySelector("loading").style.visibility="hidden",console.log(e),o.data=e.data.response,o.tableLokasi=new NgTableParams({count:5},{counts:[5,10,15],dataset:o.data})}var o=this;o.dataJenis=e.getAllData().then(s),o["delete"]=i,o.update=a}function JenisUpdateCtrl(e,t,n){function i(e){var t=new FileReader;t.onload=function(e){var t=new Image;return t.onload=function(){width=t.width,height=t.height,width>height?width>MAX_SIZE&&(height*=MAX_SIZE/width,width=MAX_SIZE):height>MAX_SIZE&&(width*=MAX_SIZE/height,height=MAX_SIZE),r.canvas.width=width,r.canvas.height=height,r.drawImage(t,0,0,width,height)},t.src=e.target.result,images=t,t},t.readAsDataURL(e.target.files[0])}function a(t){var n=document.querySelector("canvas"),i=n.toDataURL("image/png");t.imgURL=i,console.log(t),e.updateJenis(t).then(s)}function s(e){n.Update(h),console.log(e),t.go("petugas.jeniskejahatan-view")}var o=this,h=t.params.id;e.getData(h).then(function(e){o.jenis=e.data.response.jenis,o.imgURL=e.data.response.imgURL,o.id=e.data.response.id,console.log(e.data.response)}),MAX_SIZE=200;var o=this,d=document.getElementById("canvas"),r=d.getContext("2d"),c=document.getElementById("gambar");c.addEventListener("change",i),this.tambah=a}angular.module("CrimeZone").controller("JenisInputCtrl",JenisInputCtrl).controller("JenisUpdateCtrl",JenisUpdateCtrl).controller("JenisViewCtrl",JenisViewCtrl),JenisInputCtrl.$inject=["JenisService","$state","ActionService"],JenisViewCtrl.$inject=["JenisService","$state","ActionService"],JenisUpdateCtrl.$inject=["JenisService","$state","ActionService"];